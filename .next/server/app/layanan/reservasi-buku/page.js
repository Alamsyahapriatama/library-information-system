(()=>{var e={};e.id=356,e.ids=[356],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},8517:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>d});var r=s(482),t=s(9108),l=s(2563),n=s.n(l),i=s(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(a,o);let d=["",{children:["layanan",{children:["reservasi-buku",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8726)),"C:\\laragon\\www\\library-information-system\\app\\layanan\\reservasi-buku\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9667)),"C:\\laragon\\www\\library-information-system\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\laragon\\www\\library-information-system\\app\\layanan\\reservasi-buku\\page.tsx"],c="/layanan/reservasi-buku/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/layanan/reservasi-buku/page",pathname:"/layanan/reservasi-buku",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8382:(e,a,s)=>{Promise.resolve().then(s.bind(s,8220))},8220:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var r=s(5344),t=s(3729),l=s(3211),n=s(5545);function i(){let[e,a]=(0,t.useState)({nama:"",kelas:"",nisn:"",email:"",telepon:"",tanggalAmbil:"",catatan:"",selectedBookTitle:""}),[s,i]=(0,t.useState)(!1),[o,d]=(0,t.useState)(null),[u,c]=(0,t.useState)(null),m=s=>{a({...e,[s.target.name]:s.target.value})},x=async s=>{if(s.preventDefault(),d(null),c(null),i(!0),!e.selectedBookTitle){d("Harap masukkan judul buku yang ingin direservasi."),i(!1);return}let r={email:e.email,member_id:e.nisn,book_title:e.selectedBookTitle,class:e.kelas,name:e.nama,phone:e.telepon,pickup_date:e.tanggalAmbil,notes:e.catatan};try{let e=await fetch("https://cms-perpus.karuhundeveloper.com/api/v1/service/book-reservation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),s=await e.json();if(e.ok)console.log("Reservation successful:",s),c("Reservasi berhasil dikirim! Kami akan menghubungi Anda untuk konfirmasi."),alert("Reservasi berhasil dikirim! Kami akan menghubungi Anda untuk konfirmasi."),a({nama:"",kelas:"",nisn:"",email:"",telepon:"",tanggalAmbil:"",catatan:"",selectedBookTitle:""});else{console.error("API Error Response:",s);let a=s.message||`Terjadi kesalahan ${e.status} saat mengirim reservasi.`;d(a),alert(`Reservasi gagal: ${a}`)}}catch(e){console.error("Network or unexpected error:",e),d(`Gagal terhubung ke server: ${e.message}`),alert(`Reservasi gagal: Gagal terhubung ke server. ${e.message}`)}finally{i(!1)}},p=new Date().toISOString().split("T")[0];return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 pt-20",children:[r.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-blue-800",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"text-center text-white",children:[r.jsx(l.Z,{className:"h-16 w-16 mx-auto mb-4"}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Reservasi Buku"}),r.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Isi formulir di bawah untuk memesan buku favorit Anda dan ambil sesuai jadwal yang telah ditentukan."})]})})}),r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,r.jsxs)("div",{id:"reservation-form-section",className:"bg-white rounded-xl shadow-md p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Form Reservasi Buku"}),(0,r.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"selectedBookTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Judul Buku yang Ingin Direreservasi *"}),r.jsx("input",{type:"text",id:"selectedBookTitle",name:"selectedBookTitle",required:!0,value:e.selectedBookTitle,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan judul buku"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap *"}),r.jsx("input",{type:"text",id:"nama",name:"nama",required:!0,value:e.nama,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"kelas",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kelas *"}),(0,r.jsxs)("select",{id:"kelas",name:"kelas",required:!0,value:e.kelas,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Pilih Kelas"}),r.jsx("option",{value:"X IPA 1",children:"X IPA 1"}),r.jsx("option",{value:"X IPA 2",children:"X IPA 2"}),r.jsx("option",{value:"X IPS 1",children:"X IPS 1"}),r.jsx("option",{value:"XI IPA 1",children:"XI IPA 1"}),r.jsx("option",{value:"XI IPA 2",children:"XI IPA 2"}),r.jsx("option",{value:"XI IPS 1",children:"XI IPS 1"}),r.jsx("option",{value:"XII IPA 1",children:"XII IPA 1"}),r.jsx("option",{value:"XII IPA 2",children:"XII IPA 2"}),r.jsx("option",{value:"XII IPS 1",children:"XII IPS 1"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"nisn",className:"block text-sm font-medium text-gray-700 mb-1",children:"NISN *"}),r.jsx("input",{type:"text",id:"nisn",name:"nisn",required:!0,value:e.nisn,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"telepon",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Telepon/WhatsApp"}),r.jsx("input",{type:"tel",id:"telepon",name:"telepon",value:e.telepon,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"tanggalAmbil",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tanggal Pengambilan *"}),r.jsx("input",{type:"date",id:"tanggalAmbil",name:"tanggalAmbil",required:!0,value:e.tanggalAmbil,onChange:m,min:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"catatan",className:"block text-sm font-medium text-gray-700 mb-1",children:"Catatan Tambahan"}),r.jsx("textarea",{id:"catatan",name:"catatan",rows:3,value:e.catatan,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Catatan khusus untuk reservasi..."})]}),o&&(0,r.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[r.jsx("strong",{className:"font-bold",children:"Error!"}),(0,r.jsxs)("span",{className:"block sm:inline",children:[" ",o]})]}),u&&(0,r.jsxs)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[r.jsx("strong",{className:"font-bold",children:"Sukses!"}),(0,r.jsxs)("span",{className:"block sm:inline",children:[" ",u]})]}),r.jsx("button",{type:"submit",disabled:s||!e.selectedBookTitle,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Mengirim Reservasi...":"Kirim Reservasi"})]}),r.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(n.Z,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Informasi Penting"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-700 mt-1 space-y-1",children:[r.jsx("li",{children:"• Reservasi berlaku maksimal 3 hari"}),r.jsx("li",{children:"• Konfirmasi via WhatsApp/Email"}),r.jsx("li",{children:"• Bawa kartu pelajar saat pengambilan"})]})]})]})})]})})]})}},3211:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},5545:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8726:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>l,__esModule:()=>t,default:()=>n});let r=(0,s(6843).createProxy)(String.raw`C:\laragon\www\library-information-system\app\layanan\reservasi-buku\page.tsx`),{__esModule:t,$$typeof:l}=r,n=r.default}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[939,835],()=>s(8517));module.exports=r})();