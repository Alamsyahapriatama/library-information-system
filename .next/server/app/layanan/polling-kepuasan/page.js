(()=>{var e={};e.id=596,e.ids=[596],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},2873:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>c,originalPathname:()=>m,pages:()=>u,routeModule:()=>p,tree:()=>o});var r=s(482),t=s(9108),n=s(2563),l=s.n(n),i=s(8300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(a,d);let o=["",{children:["layanan",{children:["polling-kepuasan",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1885)),"C:\\laragon\\www\\library-information-system\\app\\layanan\\polling-kepuasan\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9667)),"C:\\laragon\\www\\library-information-system\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\laragon\\www\\library-information-system\\app\\layanan\\polling-kepuasan\\page.tsx"],m="/layanan/polling-kepuasan/page",c={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/layanan/polling-kepuasan/page",pathname:"/layanan/polling-kepuasan",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},548:(e,a,s)=>{Promise.resolve().then(s.bind(s,3303))},3303:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var r=s(5344),t=s(3729),n=s(7060),l=s(3229),i=s(2739);function d(){let[e,a]=(0,t.useState)(""),[s,d]=(0,t.useState)(""),[o,u]=(0,t.useState)(""),[m,c]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),g=[{id:1,question:"Bagaimana kesan Anda terhadap koleksi buku yang tersedia di perpustakaan?",answer:""},{id:2,question:"Bagaimana tingkat kepuasan Anda terhadap fasilitas (misal: ruang baca, AC, komputer) yang ada di perpustakaan?",answer:""},{id:3,question:"Bagaimana tingkat kepuasan Anda terhadap pelayanan staf perpustakaan (misal: keramahan, kecepatan pelayanan)?",answer:""},{id:4,question:"Seberapa mudah Anda menemukan informasi atau buku yang Anda cari di perpustakaan?",answer:""},{id:5,question:"Apakah jam operasional perpustakaan sudah sesuai dengan kebutuhan Anda?",answer:""}],[b,h]=(0,t.useState)(g),[k,y]=(0,t.useState)(!1),[f,j]=(0,t.useState)(null),[w,N]=(0,t.useState)(""),v="putra.supra@gmail.com",A=()=>{a(""),d(""),u(""),c(""),x(""),h(g.map(e=>({...e,answer:""}))),j(null),N("")},S=(e,a)=>{h(s=>s.map(s=>s.id===e?{...s,answer:a}:s))},P=async a=>{if(a.preventDefault(),j(null),N(""),!e||!s||!o||!m||b.some(e=>""===e.answer)){N("Harap lengkapi semua kolom wajib (termasuk semua jawaban kuisioner).");return}y(!0);let r=b.map(e=>({question:e.question,answer:e.answer}));try{let a=await fetch("https://cms-perpus.karuhundeveloper.com/api/v1/service/questionnaire",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:v,member_id:e,name:s,gender:"Laki-laki"===o?"M":"F",education:m,feedback_suggestions:p,questions:r})});if(a.ok){let e=await a.json();console.log("API Success Response:",e),j("success"),A()}else{let e=await a.json();j("error"),N(e.message||(e.errors?Object.values(e.errors).flat().join(", "):"Terjadi kesalahan saat mengirim data."))}}catch(e){console.error("Submission error:",e),j("error"),N(`Tidak dapat terhubung ke server. Mohon coba lagi nanti. Detail: ${e.message}`)}finally{y(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-100 pt-28 pb-12 flex justify-center items-start",children:(0,r.jsxs)("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8 space-y-6",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-blue-800 text-center mb-6",children:"KUISIONER SURVEI KEPUASAN PEMUSTAKA PADA PELAYANAN PERPUSTAKAAN SMAN 6 BERAU"}),r.jsx("p",{className:"text-gray-600 text-center text-lg mb-4",children:"PERPUSTAKAAN SMAN 6 BERAU"}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 text-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-semibold",children:v}),r.jsx("button",{onClick:()=>alert('Fitur "Ganti akun" akan memerlukan integrasi autentikasi.'),className:"text-blue-600 hover:underline text-sm",type:"button",children:"Ganti akun"})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),r.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"Tidak dibagikan"]}),r.jsx("p",{className:"text-red-500 text-sm mt-3",children:"* Menunjukkan pertanyaan yang wajib diisi"})]}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm",children:[(0,r.jsxs)("label",{htmlFor:"memberId",className:"block text-lg font-medium text-gray-900 mb-2",children:["No. Anggota ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"memberId",name:"memberId",value:e,onChange:e=>a(e.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-base",placeholder:"Jawaban Anda",required:!0})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm",children:[(0,r.jsxs)("label",{htmlFor:"fullName",className:"block text-lg font-medium text-gray-900 mb-2",children:["Nama Lengkap ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:s,onChange:e=>d(e.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-base",placeholder:"Jawaban Anda",required:!0})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm",children:[(0,r.jsxs)("label",{className:"block text-lg font-medium text-gray-900 mb-2",children:["Jenis Kelamin ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:"genderLakiLaki",name:"gender",value:"Laki-laki",checked:"Laki-laki"===o,onChange:e=>u(e.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500",required:!0}),r.jsx("label",{htmlFor:"genderLakiLaki",className:"ml-2 block text-base text-gray-700",children:"Laki-laki"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:"genderPerempuan",name:"gender",value:"Perempuan",checked:"Perempuan"===o,onChange:e=>u(e.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500",required:!0}),r.jsx("label",{htmlFor:"genderPerempuan",className:"ml-2 block text-base text-gray-700",children:"Perempuan"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm",children:[(0,r.jsxs)("label",{className:"block text-lg font-medium text-gray-900 mb-2",children:["Pendidikan ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"mt-2 space-y-2",children:["SD/MI","SMP/MTs","SMA/MA","D1","D2","D3","D4","S1","S2","S3"].map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:`education${e.replace(/\//g,"")}`,name:"education",value:e,checked:m===e,onChange:e=>c(e.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500",required:!0}),r.jsx("label",{htmlFor:`education${e.replace(/\//g,"")}`,className:"ml-2 block text-base text-gray-700",children:e})]},e))})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm space-y-4",children:[(0,r.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:["Pertanyaan Kuisioner ",r.jsx("span",{className:"text-red-500",children:"*"})]}),b.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:`question-${e.id}`,className:"block text-base text-gray-800 mb-1",children:[e.id,". ",e.question]}),r.jsx("textarea",{id:`question-${e.id}`,value:e.answer,onChange:a=>S(e.id,a.target.value),rows:2,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-base resize-y",placeholder:"Jawaban Anda untuk pertanyaan ini",required:!0})]},e.id))]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm",children:[r.jsx("label",{htmlFor:"feedbackSuggestions",className:"block text-lg font-medium text-gray-900 mb-2",children:"Saran dan Masukan (Opsional)"}),r.jsx("textarea",{id:"feedbackSuggestions",name:"feedbackSuggestions",value:p,onChange:e=>x(e.target.value),rows:4,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-base resize-y",placeholder:"Berikan saran atau masukan Anda di sini..."})]}),"success"===f&&(0,r.jsxs)("div",{className:"flex items-center p-4 mb-4 text-sm text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400",role:"alert",children:[r.jsx(n.Z,{className:"w-5 h-5 mr-3 flex-shrink-0"}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-medium",children:"Berhasil!"})," Kuisioner Anda telah terkirim. Terima kasih atas partisipasi dan masukan Anda!"]})]}),"error"===f&&(0,r.jsxs)("div",{className:"flex items-center p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:[r.jsx(l.Z,{className:"w-5 h-5 mr-3 flex-shrink-0"}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-medium",children:"Gagal!"})," ",w]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,r.jsxs)("button",{type:"submit",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:k,children:[k&&r.jsx(i.Z,{className:"mr-2 h-5 w-5 animate-spin"}),k?"Mengirim...":"Submit"]}),r.jsx("button",{type:"button",onClick:A,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Clear form"})]})]})]})})}},7060:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2739:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3229:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1885:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>n,__esModule:()=>t,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`C:\laragon\www\library-information-system\app\layanan\polling-kepuasan\page.tsx`),{__esModule:t,$$typeof:n}=r,l=r.default}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[542,835],()=>s(2873));module.exports=r})();